...
<div id="newTaskDialog" class="dialog">
    <span id="closeBtn" style="cursor: pointer; position: absolute; top: 10px; right: 10px; font-size: 20px;">&times;</span>
    {% csrf_token %}
    <label for="platform">Platform:</label>
    <select id="platform">
        <option value="qcom">QCOM</option>
        <option value="mtk">MTK</option>
    </select>
    <br><br>

    <!-- New file input for uploading files -->
    <input type="file" id="modelFileInput">
    <br><br>

    <!-- Hide the existing upload button -->
    <button id="uploadBtn" style="display: none;">start upload file</button>
    <span id="uploaded-filename">no file</span>

    <button id="createTaskBtn">submit</button>
</div>
...
<script>
    document.getElementById('createTaskBtn').addEventListener('click', function() {
        var formData = new FormData();
        var fileInput = document.getElementById('modelFileInput');
        var platform = document.getElementById('platform').value;
        if (fileInput.files.length > 0) {
            formData.append('uploaded_file', fileInput.files[0]);
        }
        formData.append('platform', platform);

        $.ajax({
            url: '/create_task',
            type: 'POST',
            data: formData,
            processData: false,
            contentType: false,
            success: function(response) {
                // handle success
            },
            error: function(error) {
                // handle error
            }
        });
    });
</script>
